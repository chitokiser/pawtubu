{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Y700-17ISK\\\\Desktop\\\\project\\\\Paw\\\\pawtubu_front\\\\src\\\\components\\\\ContentDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Box, Typography, CircularProgress, Card, CardMedia, CardContent, IconButton } from '@mui/material';\nimport { ThumbUp as ThumbUpIcon } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000';\nfunction ContentDetail() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [content, setContent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const fetchContent = async () => {\n    try {\n      const res = await fetch(`${API_URL}/api/content/${id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setContent(data);\n      } else {\n        console.error(\"Failed to fetch content\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching content:\", error);\n    }\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchContent();\n  }, [id]);\n  const handleLike = async () => {\n    const token = localStorage.getItem('pawtubu-token');\n    if (!token) {\n      alert('Please log in to like content.');\n      return;\n    }\n    try {\n      const res = await fetch(`${API_URL}/api/content/like/${id}`, {\n        method: 'PUT',\n        headers: {\n          'x-auth-token': token\n        }\n      });\n      if (res.ok) {\n        // Re-fetch content to get updated like count\n        fetchContent();\n      } else {\n        alert('Failed to update like status.');\n      }\n    } catch (error) {\n      console.error(\"Like error:\", error);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 75\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n  if (!content) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      sx: {\n        mt: 4,\n        textAlign: 'center'\n      },\n      children: \"Content not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      maxWidth: 900,\n      margin: 'auto',\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n      component: content.fileType === 'video' ? 'video' : 'img',\n      style: {\n        maxHeight: 600,\n        objectFit: 'contain'\n      },\n      image: `${API_URL}/${content.filePath}`,\n      title: content.title,\n      controls: content.fileType === 'video',\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          variant: \"h4\",\n          component: \"div\",\n          children: content.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleLike,\n            color: \"primary\",\n            children: /*#__PURE__*/_jsxDEV(ThumbUpIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: content.likes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        paragraph: true,\n        children: content.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: [\"Uploaded by: \", content.uploader ? content.uploader.walletAddress : 'Unknown']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(ContentDetail, \"MLdyVl63RC4zSb+uFnh0XcgRrDs=\", false, function () {\n  return [useParams];\n});\n_c = ContentDetail;\nexport default ContentDetail;\nvar _c;\n$RefreshReg$(_c, \"ContentDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Box","Typography","CircularProgress","Card","CardMedia","CardContent","IconButton","ThumbUp","ThumbUpIcon","jsxDEV","_jsxDEV","API_URL","ContentDetail","_s","id","content","setContent","loading","setLoading","fetchContent","res","fetch","ok","data","json","console","error","handleLike","token","localStorage","getItem","alert","method","headers","sx","display","justifyContent","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","textAlign","maxWidth","margin","component","fileType","style","maxHeight","objectFit","image","filePath","title","controls","autoPlay","alignItems","gutterBottom","onClick","color","likes","paragraph","description","uploader","walletAddress","_c","$RefreshReg$"],"sources":["C:/Users/Y700-17ISK/Desktop/project/Paw/pawtubu_front/src/components/ContentDetail.js"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Box, Typography, CircularProgress, Card, CardMedia, CardContent, IconButton } from '@mui/material';\nimport { ThumbUp as ThumbUpIcon } from '@mui/icons-material';\n\nconst API_URL = 'http://localhost:5000';\n\nfunction ContentDetail() {\n  const { id } = useParams();\n  const [content, setContent] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchContent = async () => {\n    try {\n      const res = await fetch(`${API_URL}/api/content/${id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setContent(data);\n      } else {\n        console.error(\"Failed to fetch content\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching content:\", error);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchContent();\n  }, [id]);\n\n  const handleLike = async () => {\n    const token = localStorage.getItem('pawtubu-token');\n    if (!token) {\n      alert('Please log in to like content.');\n      return;\n    }\n\n    try {\n      const res = await fetch(`${API_URL}/api/content/like/${id}`, {\n        method: 'PUT',\n        headers: {\n          'x-auth-token': token,\n        },\n      });\n\n      if (res.ok) {\n        // Re-fetch content to get updated like count\n        fetchContent();\n      } else {\n        alert('Failed to update like status.');\n      }\n    } catch (error) {\n      console.error(\"Like error:\", error);\n    }\n  };\n\n  if (loading) {\n    return <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}><CircularProgress /></Box>;\n  }\n\n  if (!content) {\n    return <Typography variant=\"h5\" sx={{ mt: 4, textAlign: 'center' }}>Content not found.</Typography>;\n  }\n\n  return (\n    <Card sx={{ maxWidth: 900, margin: 'auto', mt: 4 }}>\n      <CardMedia\n        component={content.fileType === 'video' ? 'video' : 'img'}\n        style={{ maxHeight: 600, objectFit: 'contain' }}\n        image={`${API_URL}/${content.filePath}`}\n        title={content.title}\n        controls={content.fileType === 'video'}\n        autoPlay\n      />\n      <CardContent>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Typography gutterBottom variant=\"h4\" component=\"div\">\n            {content.title}\n          </Typography>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <IconButton onClick={handleLike} color=\"primary\">\n              <ThumbUpIcon />\n            </IconButton>\n            <Typography variant=\"h6\">{content.likes}</Typography>\n          </Box>\n        </Box>\n        <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\n          {content.description}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Uploaded by: {content.uploader ? content.uploader.walletAddress : 'Unknown'}\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default ContentDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}